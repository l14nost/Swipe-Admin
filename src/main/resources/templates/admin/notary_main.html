<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Notaries</title>
  <link rel="icon" type="image/png" th:href="@{/admin/dist/img/favicon.png}">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">
  <style th:replace="~{/admin.shared/style}"></style></head>

<body class="sidebar-mini">
<!--<script>-->
<!--  var token = [[${token}]];-->
<!--  console.log(token);-->
<!--  fetch('http://localhost:8081/users', {-->
<!--    method: 'GET',-->
<!--    headers: new Headers({-->
<!--      'Authorization': 'Bearer ' + token,-->
<!--      'Content-Type': 'application/json'-->
<!--    }),-->
<!--    body: { /* some data */ }-->
<!--  });-->
<!--</script>-->
<div class="wrapper">
  <div th:replace="~{/admin.shared/header}"></div>
  <div th:replace="~{/admin.shared/left_sidebar}"></div>
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <section class="content">
      <div class="card-body">
<!--    <div id="allUserContent">-->
<!--    <div style="margin-left: 20px">-->
<!--      <h3>Список клиентов</h3>-->
<!--    </div>-->
<!--      <div style="display: flex; justify-content: right">-->
<!--        <nav class="navbar bg-body-tertiary" id="clientSearch">-->
<!--          <div class="container-fluid ">-->
<!--            <div style="display: flex">-->
<!--              <input class="form-control me-2" type="search" placeholder="Поиск по имени или фамилии" aria-label="Search" id="searchInput" name="search">-->
<!--              <button class="btn btn-outline-info" type="button" onclick="searchClient()">Search</button>-->
<!--            </div>-->
<!--          </div>-->
<!--        </nav>-->
<!--      </div>-->
<!--    <div id="tableClient">-->
<!--      <div id="closeSearch" th:if="${#strings.length(searchClient) >= 1 && (searchClient != null && !searchClient.equals('null'))}" style="margin-left: 20px">-->
<!--        <i th:text="'Результат поиска по значению:'+${searchClient}"></i>-->
<!--        <a onclick="closeClient()"><i class="fas fa-times"></i></a>-->
<!--      </div>-->
<!--      <table class="table table-striped"  style="margin: 20px" id="userTable">-->
<!--        <thead>-->
<!--        <tr>-->
<!--          <th scope="col">-->
<!--            <input  type="hidden" name="sorted" value="idUser">-->
<!--            <button class="btn btn-outline-info" type="button" onclick="sortedClient('idUser')">ID</button>-->
<!--          </th>-->
<!--          <th scope="col">-->
<!--            <input  type="hidden" name="sorted" value="idUser">-->
<!--            <button class="btn btn-outline-info" type="button" onclick="sortedClient('surname')">ФИО</button>-->
<!--          </th>-->
<!--          <th scope="col">-->
<!--            <input  type="hidden" name="sorted" value="idUser">-->
<!--            <button class="btn btn-outline-info" type="button" onclick="sortedClient('mail')">Почта</button>-->
<!--          </th>-->
<!--          <th scope="col">-->
<!--            <form method="get" th:action="@{/add_user}">-->
<!--              <input type="hidden" name="type" th:value="${typeClient}">-->
<!--                <button type="submit" class="btn btn-secondary btn-sm" style="margin-left: 10px" data-toggle="tooltip" data-placement="top" title="Добавить клиента">-->
<!--                  Добавить-->
<!--              </button>-->
<!--            </form></th>-->
<!--        </tr>-->
<!--        </thead>-->
<!--        <tbody>-->
<!--          <tr th:each="user:${users}">-->
<!--            <th scope="row"><p th:text="${user.getIdUser()}"></p></th>-->
<!--            <td><p th:text="${user.getSurname()+' '+user.getName()}"></p></td>-->
<!--            <td><p th:text="${user.getMail()}"></p></td>-->
<!--            <td>-->
<!--              <div style="display: flex">-->
<!--              <form th:action="@{/user_edit/{id}(id=${user.getIdUser()})}"  method="get" >-->
<!--                <button type="submit" class="btn btn-info btn-sm" data-toggle="tooltip" data-placement="top" title="Редактировать клиента">-->
<!--                  <i class="fas fa-pencil">-->
<!--                  </i>-->
<!--                </button>-->
<!--              </form>-->
<!--&lt;!&ndash;              <form th:action="@{/delete_user/{id}(id = ${user.getIdUser()})}"  method="post" data-toggle="tooltip" data-placement="top" title="Удалить клиента">&ndash;&gt;-->
<!--                <button type="button" class="btn btn-danger btn-sm deleteUser" style="margin-left: 10px" data-toggle="modal" data-target="#confirmDeleteUser" th:data-id="${user.getIdUser()}">-->
<!--                  <i class="fas fa-trash"></i>-->
<!--                </button>-->

                <div class="modal fade" id="confirmDeleteUser" tabindex="-1" role="dialog" aria-labelledby="confirmDeleteModalLabel" aria-hidden="true">
                  <div class="modal-dialog" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="confirmDeleteModalLabel">Удаление пользователя</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        Вы уверены, что хотите удалить этого пользователя?
                      </div>
                      <div class="modal-footer">
                        <!-- Закрываем модальное окно, если пользователь передумал -->
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                        <!-- При нажатии на кнопку "Удалить", отправляем форму для удаления -->
                        <button type="submit" class="btn btn-danger" onclick="deleteUser()">Удалить</button>
                      </div>
                    </div>
                  </div>
                </div>

<!--&lt;!&ndash;              </form>&ndash;&gt;-->
<!--                <form th:action="@{/add_to_black_list}"  method="post" >-->
<!--                  <input type="hidden" name="idUser" th:value="${user.getIdUser()}" />-->
<!--                  <button type="submit" class="btn btn-dark btn-sm" style="margin-left: 10px" data-toggle="tooltip" data-placement="top" title="Добавить в черный список">-->
<!--                    <i class="nav-icon fas fa-calendar-minus"></i>-->
<!--                  </button>-->

<!--                </form>-->
<!--              </div>-->
<!--            </td>-->
<!--          </tr>-->
<!--        </tbody>-->
<!--      </table>-->
<!--&lt;!&ndash;      <div style="display: flex; justify-content: center">&ndash;&gt;-->
<!--&lt;!&ndash;        <button type="button" class="btn btn-secondary">Добавить</button>&ndash;&gt;-->
<!--&lt;!&ndash;      </div>&ndash;&gt;-->
<!--    </div>-->
<!--      <div style="display: flex; justify-content: space-between">-->
<!--        <div id="textClient">-->
<!--        <div style="margin-left: 10px" th:if="${pageUser.getContent().size()==0}"><h6>Ничего не найдено</h6></div>-->
<!--      <div  style="margin-left: 10px" th:if="${pageUser.getContent().size()>0}"><h6 th:text="'Показано 1 – '+${pageUser.getContent().size()} + ' из '+${sizeClient}+' записей'" ></h6></div>-->
<!--      </div>-->
<!--      <nav aria-label="Page navigation example" style="display: flex; justify-content: right ">-->
<!--        <ul class="pagination" id="previousClient">-->
<!--          <li class="page-item" th:hidden="${pageUser.getNumber()==0}">-->
<!--            <input type="hidden" id="pageNumberClientPr" th:value="${pageUser.getNumber()-1}">-->
<!--            <a class="page-link" href="#" aria-label="Previous" th:value="${pageUser.getTotalPages()}">-->
<!--              <span aria-hidden="true">&laquo;</span>-->
<!--            </a>-->
<!--          </li>-->
<!--        </ul>-->
<!--        <ul class="pagination" id="userPagination">-->

<!--          <li class="page-item active"><a class="page-link" href="#">1</a></li>-->
<!--          <li style="margin-left: 5px; margin-right: 5px" th:if="${pageUser.getNumber()>1 && pageUser.getTotalPages()>6}"><p >...</p></li>-->
<!--          <li class="page-item"  th:each="p: ${#numbers.sequence(1, 2)}" th:if="${pageUser.getTotalPages()>6 && pageUser.getNumber()<2}"><a class="page-link" href="#" th:text="${p+1}"></a></li>-->

<!--          <li class="page-item"  th:each="p: ${#numbers.sequence(pageUser.getNumber()-1, pageUser.getNumber()+1)}" th:if="${pageUser.getTotalPages()>6 && pageUser.getNumber()>1 && pageUser.getNumber()<pageUser.getTotalPages()-2}"><a class="page-link" href="#" th:text="${p+1}"></a></li>-->
<!--          &lt;!&ndash;          <li class="page-item"  th:each="p: ${#numbers.sequence(currentPage - 1, currentPage+1)}" th:if="${ currentPage != 0 && currentPage+1!=blackList.getTotalPages()}"><a class="page-link" href="#" th:text="${p+1}"></a></li>&ndash;&gt;-->
<!--          <li class="page-item"  th:each="p: ${#numbers.sequence(pageUser.getTotalPages()-3, pageUser.getTotalPages()-2)}" th:if="${pageUser.getTotalPages()>6 && pageUser.getNumber()>pageUser.getTotalPages()-3}"><a class="page-link" href="#" th:text="${p+1}"></a></li>-->

<!--          <li style="margin-left: 5px; margin-right: 5px" th:if="${pageUser.getNumber()<pageUser.getTotalPages()-2 && pageUser.getTotalPages()>6}"><p>...</p></li>-->
<!--          <li class="page-item"  th:each="p: ${#numbers.sequence(1, pageUser.getTotalPages()-2)}" th:if="${pageUser.getTotalPages()>2 && pageUser.getTotalPages()<=6 }"><a class="page-link" href="#" th:text="${p+1}"></a></li>-->

<!--          <li class="page-item"><a class="page-link" href="#" th:text="${pageUser.getTotalPages()}" th:if="${pageUser.getTotalPages()>1}"></a></li>-->
<!--        </ul>-->
<!--        <ul class="pagination" id="nextClient">-->
<!--          <li class="page-item" th:hidden="${pageUser.getNumber()==pageUser.getTotalPages()-1}" th:if="${pageUser.getTotalPages()>1}">-->
<!--            <input type="hidden" id="pageNumberClientNext" th:value="${pageUser.getNumber()+1}">-->
<!--            <a class="page-link" href="#" aria-label="Next" th:value="${pageUser.getTotalPages()}">-->
<!--              <span aria-hidden="true">&raquo;</span>-->
<!--            </a>-->
<!--          </li>-->
<!--        </ul>-->
<!--        <ul class="pagination" style="margin-left: 5px">-->
<!--          <li class="page-item">-->
<!--            <select class="form-select"  aria-label="Floating label select example" id="sizeUserPage" onchange="">-->
<!--              <option value="3" th:selected="${pageUser.getSize()}==3">3</option>-->
<!--              <option value="5" th:selected="${pageUser.getSize()}==5">5</option>-->
<!--              <option value="10" th:selected="${pageUser.getSize()}==10">10</option>-->
<!--            </select>-->
<!--          </li>-->
<!--        </ul>-->
<!--      </nav>-->
<!--      </div>-->
<!--  </div>-->
<!--    <div>-->
<!--      <div style="margin-left: 20px">-->
<!--        <h3>Список застройщик</h3>-->
<!--      </div>-->
<!--      <div style="display: flex; justify-content: right">-->
<!--        <nav class="navbar bg-body-tertiary" id="contractorSearch">-->
<!--          <div class="container-fluid ">-->
<!--            <div style="display: flex">-->
<!--              <input class="form-control me-2" type="search" placeholder="Поиск по имени или фамилии" aria-label="Search" id="searchInputContractor" name="search">-->
<!--              <button class="btn btn-outline-info" type="button" onclick="searchContractor()">Search</button>-->
<!--            </div>-->
<!--          </div>-->
<!--        </nav>-->
<!--      </div>-->
<!--      <div id="tableContractor">-->
<!--        <div id="closeContractor" th:if="${#strings.length(searchContractor) >= 1 && (searchContractor != null && !searchContractor.equals('null'))}" style="margin-left: 20px">-->
<!--          <i th:text="'Результат поиска по значению:'+${searchContractor}"></i>-->
<!--          <a onclick="closeContractor()"><i class="fas fa-times"></i></a>-->
<!--        </div>-->
<!--        <table class="table table-striped" style="margin: 20px" id="contractorTable">-->
<!--          <thead>-->
<!--          <tr>-->
<!--            <th scope="col">-->
<!--              <input  type="hidden" name="sorted" value="idUser">-->
<!--              <button class="btn btn-outline-info" type="button" onclick="sortedContractor('idUser')">ID</button>-->
<!--            </th>-->
<!--            <th scope="col">-->
<!--              <input  type="hidden" name="sorted" value="idUser">-->
<!--              <button class="btn btn-outline-info" type="button" onclick="sortedContractor('surname')">ФИО</button>-->
<!--            </th>-->
<!--            <th scope="col">-->
<!--              <input  type="hidden" name="sorted" value="idUser">-->
<!--              <button class="btn btn-outline-info" type="button" onclick="sortedContractor('mail')">Почта</button>-->
<!--            </th>-->
<!--            <th scope="col">-->
<!--              <form method="get" th:action="@{/add_user}">-->
<!--                <input type="hidden" name="type" th:value="${typeContractor}">-->
<!--                <button type="submit" class="btn btn-secondary btn-sm" style="margin-left: 10px" data-toggle="tooltip" data-placement="top" title="Добавить застройщика">-->
<!--                  Добавить-->
<!--                </button>-->
<!--              </form>-->
<!--            </th>-->
<!--          </tr>-->
<!--          </thead>-->
<!--          <tbody>-->
<!--          <tr th:each="contractor:${contractors}">-->
<!--            <th scope="row"><p th:text="${contractor.getIdUser()}"></p></th>-->
<!--            <td><p th:text="${contractor.getSurname()+' '+contractor.getName()}"></p></td>-->
<!--            <td><p th:text="${contractor.getMail()}"></p></td>-->
<!--            <td>-->
<!--              <div style="display: flex">-->
<!--                <form th:action="@{/user_edit/{id}(id=${contractor.getIdUser()})}"  method="get" >-->
<!--                  <button type="submit" class="btn btn-info btn-sm" data-toggle="tooltip" data-placement="top" title="Редактировать застройщика">-->
<!--                    <i class="fas fa-pencil">-->
<!--                    </i>-->
<!--                  </button>-->
<!--                </form>-->
<!--&lt;!&ndash;                <form th:action="@{/delete_user/{id}(id = ${contractor.getIdUser()})}" method="post" >&ndash;&gt;-->
<!--                <button type="button" class="btn btn-danger btn-sm deleteUser" style="margin-left: 10px" data-toggle="modal" data-target="#confirmDeleteUser" th:data-id="${contractor.getIdUser()}">-->
<!--                  <i class="fas fa-trash"></i>-->
<!--                </button>-->


<!--&lt;!&ndash;                </form>&ndash;&gt;-->
<!--                <form th:action="@{/add_to_black_list}"  method="post" >-->
<!--                  <input type="hidden" name="idUser" th:value="${contractor.getIdUser()}" />-->
<!--                  <button type="submit" class="btn btn-dark btn-sm" data-toggle="tooltip" data-placement="top" title="Добавить в черный список" style="margin-left: 10px">-->
<!--                    <i class="nav-icon fas fa-calendar-minus"></i>-->
<!--                  </button>-->

<!--                </form>-->

<!--              </div>-->
<!--            </td>-->
<!--          </tr>-->
<!--          </tbody>-->
<!--        </table>-->
<!--      </div>-->
<!--      <div style="display: flex; justify-content: space-between">-->
<!--        <div id="textContractor">-->
<!--        <div style="margin-left: 10px" th:if="${pageContractor.getContent().size()==0}"><h6>Ничего не найдено</h6></div>-->
<!--      <div style="margin-left: 10px" th:if="${pageContractor.getContent().size()>0}"><h6 th:text="'Показано 1 – '+${pageContractor.getContent().size()} + ' из '+${sizeContractor}+' записей'" ></h6></div>-->
<!--        </div>-->
<!--        <nav aria-label="Page navigation example" style="display: flex; justify-content: right ">-->
<!--        <ul class="pagination" id="previousContractor">-->
<!--          <li class="page-item" th:hidden="${pageContractor.getNumber()==0}">-->
<!--            <input type="hidden" id="pageNumberContractorPr" th:value="${pageContractor.getNumber()-1}">-->
<!--            <a class="page-link" href="#" aria-label="Previous" th:value="${pageContractor.getTotalPages()}">-->
<!--              <span aria-hidden="true">&laquo;</span>-->
<!--            </a>-->
<!--          </li>-->
<!--        </ul>-->
<!--        <ul class="pagination" id="contractorPagination">-->

<!--          <li class="page-item active"><a class="page-link" href="#">1</a></li>-->
<!--          <li class="page-item"  th:each="p: ${#numbers.sequence(1, pageContractor.getTotalPages()-1)}" th:if="${pageContractor.getTotalPages()>=2}"><a class="page-link" href="#" th:text="${p+1}"></a></li>-->

<!--        </ul>-->
<!--        <ul class="pagination" id="nextContractor">-->
<!--          <li class="page-item" th:hidden="${pageContractor.getNumber()==pageContractor.getTotalPages()-1}" th:if="${pageContractor.getTotalPages()>1}">-->
<!--            <input type="hidden" id="pageNumberContractorNext" th:value="${pageContractor.getNumber()+1}">-->
<!--            <a class="page-link" href="#" aria-label="Next" th:value="${pageContractor.getTotalPages()}">-->
<!--              <span aria-hidden="true">&raquo;</span>-->
<!--            </a>-->
<!--          </li>-->
<!--        </ul>-->
<!--        <ul class="pagination" style="margin-left: 5px">-->
<!--          <li class="page-item">-->
<!--            <select class="form-select"  aria-label="Floating label select example" id="sizeContractorPage" onchange="">-->
<!--              <option value="3" th:selected="${pageContractor.getSize()}==3">3</option>-->
<!--              <option value="5" th:selected="${pageContractor.getSize()}==5">5</option>-->
<!--              <option value="10" th:selected="${pageContractor.getSize()}==10">10</option>-->
<!--            </select>-->
<!--          </li>-->
<!--        </ul>-->
<!--      </nav>-->
<!--      </div>-->
<!--    </div>-->
    <div>
      <div style="margin-left: 20px">
        <h3>Список нотариусов</h3>
      </div>
      <div style="display: flex; justify-content: right">
        <nav class="navbar bg-body-tertiary" id="notarySearch">
          <div class="container-fluid ">
            <div style="display: flex">
              <input class="form-control me-2" type="search" placeholder="Поиск по имени или фамилии" aria-label="Search" id="searchInputNotary" name="search">
              <button class="btn btn-outline-info" type="button" onclick="searchNotary()">Search</button>
            </div>
          </div>
        </nav>
      </div>
      <div id = "tableNotary">
        <div id="closeNotary" th:if="${#strings.length(searchNotary) >= 1 && (searchNotary != null && !searchNotary.equals('null'))}" style="margin-left: 20px">
          <i th:text="'Результат поиска по значению:'+${searchNotary}"></i>
          <a onclick="closeNotary()"><i class="fas fa-times"></i></a>
        </div>
        <table class="table table-striped" style="margin: 20px" id="notaryTable">
          <thead>
          <tr>
            <th scope="col">
              <input  type="hidden" name="sorted" value="idUser">
              <button class="btn btn-outline-secondary" type="button" onclick="sortedNotary('idUser')">
                <div style="display: flex">
                ID
                  <div th:if="${sort == 'idUser'}" style="margin-left: 3px">
                    <div th:if="${order == 1}">
                      ↓
                    </div>
                    <div th:if="${order == 2}">
                      ↑
                    </div>
                  </div>
                </div>
              </button>
            </th>
            <th scope="col">
              <input  type="hidden" name="sorted" value="idUser">
              <button class="btn btn-outline-secondary" type="button" onclick="sortedNotary('surname')">

                <div style="display: flex">
                  ФИО
                  <div th:if="${sort == 'surname'}" style="margin-left: 3px">
                    <div th:if="${order == 1}">
                      ↓
                    </div>
                    <div th:if="${order == 2}">
                      ↑
                    </div>
                  </div>
                </div></button>
            </th>
            <th scope="col">
              <input  type="hidden" name="sorted" value="idUser">
              <button class="btn btn-outline-secondary" type="button" onclick="sortedNotary('mail')">

                <div style="display: flex">
                  Почта
                  <div th:if="${sort == 'mail'}" style="margin-left: 3px">
                    <div th:if="${order == 1}">
                      ↓
                    </div>
                    <div th:if="${order == 2}">
                      ↑
                    </div>
                  </div>
                </div>
              </button>
            </th>
            <th scope="col"><form method="get" th:action="@{/add_user}">
              <input type="hidden" name="type" th:value="${typeNotary}">
              <button type="submit" class="btn btn-secondary btn-sm" style="margin-left: 10px" data-toggle="tooltip" data-placement="top" title="Добавить нотариуса">
                Добавить
              </button>
            </form></th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="notary:${notaries}">
            <th scope="row"><p th:text="${notary.getIdUser()}"></p></th>
            <td><p th:text="${notary.getSurname()+' '+notary.getName()}"></p></td>
            <td><p th:text="${notary.getMail()}"></p></td>
            <td>
              <div style="display: flex">
                <form th:action="@{/user_edit/{id}(id=${notary.getIdUser()})}"  method="get" data-toggle="tooltip" data-placement="top" title="Редактировать нотариуса">
                  <button type="submit" class="btn btn-info btn-sm">
                    <i class="fas fa-pencil">
                    </i>
                  </button>
                </form>
<!--                <form th:action="@{/delete_user/{id}(id = ${notary.getIdUser()})}"  method="post" data-toggle="tooltip" data-placement="top" title="Удалить нотариуса">-->
                <button type="button" class="btn btn-danger btn-sm deleteUser" style="margin-left: 10px" data-toggle="modal" data-target="#confirmDeleteUser" th:data-id="${notary.getIdUser()}">
                  <i class="fas fa-trash"></i>
                </button>

<!--                </form>-->
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
      <div style="display: flex; justify-content: space-between">
        <div id="textNotary">
        <div style="margin-left: 10px" th:if="${pageNotary.getContent().size()==0}"><h6>Ничего не найдено</h6></div>
      <div  style="margin-left: 10px" th:if="${pageNotary.getContent().size()>0}"><h6 th:text="'Показано '+${pageNotary.getNumber()*10+1}+' – '+${pageNotary.getContent().size() + pageNotary.getNumber()*10} + ' из '+${sizeNotary}+' записей'" ></h6></div>
      </div>
      <nav aria-label="Page navigation example" style="display: flex; justify-content: right " >
        <ul class="pagination" id="previousNotary">
          <li class="page-item" th:hidden="${pageNotary.getNumber()==0}">
            <input type="hidden" id="pageNumberNotaryPr" th:value="${pageNotary.getNumber()-1}">
            <a class="page-link" href="#" aria-label="Previous" th:value="${pageNotary.getTotalPages()}">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>
        </ul>
        <ul class="pagination" id="notaryPagination">
          <ul class="pagination" th:if="${pageNotary.getTotalPages()>1}">

            <li class="page-item active"><a class="page-link" href="#">1</a></li>
            <li style="margin-left: 5px; margin-right: 5px" th:if="${pageNotary.getNumber()>1 && pageNotary.getTotalPages()>6}"><p >...</p></li>
            <li class="page-item"  th:each="p: ${#numbers.sequence(1, 2)}" th:if="${pageNotary.getTotalPages()>6 && pageNotary.getNumber()<2}"><a class="page-link" href="#" th:text="${p+1}"></a></li>

            <li class="page-item"  th:each="p: ${#numbers.sequence(pageNotary.getNumber()-1, pageNotary.getNumber()+1)}" th:if="${pageNotary.getTotalPages()>6 && pageNotary.getNumber()>1 && pageNotary.getNumber()<pageNotary.getTotalPages()-2}"><a class="page-link" href="#" th:text="${p+1}"></a></li>
            <!--          <li class="page-item"  th:each="p: ${#numbers.sequence(currentPage - 1, currentPage+1)}" th:if="${ currentPage != 0 && currentPage+1!=blackList.getTotalPages()}"><a class="page-link" href="#" th:text="${p+1}"></a></li>-->
            <li class="page-item"  th:each="p: ${#numbers.sequence(pageNotary.getTotalPages()-3, pageNotary.getTotalPages()-2)}" th:if="${pageNotary.getTotalPages()>6 && pageNotary.getNumber()>pageNotary.getTotalPages()-3}"><a class="page-link" href="#" th:text="${p+1}"></a></li>

            <li style="margin-left: 5px; margin-right: 5px" th:if="${pageNotary.getNumber()<pageNotary.getTotalPages()-2 && pageNotary.getTotalPages()>6}"><p>...</p></li>
            <li class="page-item"  th:each="p: ${#numbers.sequence(1, pageNotary.getTotalPages()-2)}" th:if="${pageNotary.getTotalPages()>2 && pageNotary.getTotalPages()<=6 }"><a class="page-link" href="#" th:text="${p+1}"></a></li>

            <li class="page-item"><a class="page-link" href="#" th:text="${pageNotary.getTotalPages()}" th:if="${pageNotary.getTotalPages()>1}"></a></li>
          </ul>
        </ul>
        <ul class="pagination" id="nextNotary" >
          <li class="page-item" th:hidden="${pageNotary.getNumber()==pageNotary.getTotalPages()-1}" th:if="${pageNotary.getTotalPages()>1}">
            <input type="hidden" id="pageNumberNotaryNext" th:value="${pageNotary.getNumber()+1}">
            <a class="page-link" href="#" aria-label="Next" th:value="${pageNotary.getTotalPages()}">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
        </ul>
<!--        <ul class="pagination" style="margin-left: 5px">-->
<!--          <li class="page-item">-->
<!--            <select class="form-select"  aria-label="Floating label select example" id="sizeNotaryPage" onchange="">-->
<!--              <option value="3" th:selected="${pageNotary.getSize()}==3">3</option>-->
<!--              <option value="5" th:selected="${pageNotary.getSize()}==5">5</option>-->
<!--              <option value="10" th:selected="${pageNotary.getSize()}==10">10</option>-->
<!--            </select>-->
<!--          </li>-->
<!--        </ul>-->
      </nav>
      </div>
    </div>
      </div>
    </section>
  </div>
  <div th:replace="~{/admin.shared/footer}"></div>
</div>


<div th:replace="~{/admin.shared/script}"></div>
<div th:fragment="script"></div>
<script>
  let url2 = '/Swipe-Admin/delete_user/';
  // let url2 = '/delete_user/';
  let userId;
  $(document).on('click', '.deleteUser', function () {
    userId = $(this).data('id');
    $('#confirmDeleteUser').modal('show');
  });
  function deleteUser() {
    $.ajax({
      url: url2+userId,
      type: 'POST',
      success: function (data) {
        $('#confirmDeleteUser').modal('hide');
        window.location.href = "/Swipe-Admin/notaries";
        lcdId = undefined;
      },
      error: function (xhr, status, error) {
        $('#confirmDeleteApartment').modal('hide');
        alert("-");
        console.log(error);
      }
    });
  }

</script>
<script>
  let url = '/Swipe-Admin/notaries';
  // let url = '/notaries';
  function searchClient () {
    var selectedSize = localStorage.getItem('selectedUserSize');
    // e.preventDefault();
    var searchVal = document.getElementById('searchInput').value;
    // var url = '/Swipe-Admin/users';
    // if(selectedSize == null){
    //   selectedSize = '3';
    // }
    $.ajax({
      url: url + '?searchClient=' + searchVal,
      type: 'GET',
      data: {
        sizeUserPage: selectedSize,
        // search: searchVal
      },
      success: function (data) {
        var tableHtml = $(data).find('#tableClient').html();
        $('#tableClient').html(tableHtml);

        var pagination = $(data).find('#userPagination').html();
        $('#userPagination').html(pagination);
        var next = $(data).find('#nextClient').html();
        $('#nextClient').html(next);
        var previous = $(data).find('#previousClient').html();
        $('#previousClient').html(previous);
        var textClient = $(data).find('#textClient').html();
        $('#textClient').html(textClient);
        // $('#blackListTable').html(data);
        localStorage.setItem('searchClient', searchVal);


      },
      error: function (xhr, status, error) {
        alert("-")
        console.log(error);
      }
    });
  }
  var clickClient = 1;
  function sortedClient (field) {
    if (field === localStorage.getItem("sortedClient")){
      clickClient++;
      if (clickClient>2){
        clickClient = 1;
      }
    }
    else if (localStorage.getItem("sortedClient") === null && field === 'idUser' && clickClient===1){
      clickClient = 2;
    }
    else {
      if (clickClient===2){
        clickClient = 1;
      }
    }
    var selectedSize = localStorage.getItem('selectedUserSize');
    var searchVal = localStorage.getItem('searchClient');
    // var url = '/Swipe-Admin/users';
    // if(selectedSize == null){
    //   selectedSize = '3';
    // }
    $.ajax({
      url: url + '?sortedClient=' + field,
      type: 'GET',
      data: {
        sizeUserPage: selectedSize,
        searchClient: searchVal,
        orderClient: clickClient
        // search: searchVal
      },
      success: function (data) {
        var tableHtml = $(data).find('#tableClient').html();
        $('#tableClient').html(tableHtml);

        var pagination = $(data).find('#userPagination').html();
        $('#userPagination').html(pagination);
        var next = $(data).find('#nextClient').html();
        $('#nextClient').html(next);
        var previous = $(data).find('#previousClient').html();
        $('#previousClient').html(previous);
        var textClient = $(data).find('#textClient').html();
        $('#textClient').html(textClient);
        // $('#blackListTable').html(data);
        localStorage.setItem('sortedClient', field);
        localStorage.setItem('orderClient', clickClient);


      },
      error: function (xhr, status, error) {
        alert("-")
        console.log(error);
      }
    });
  }
  function closeClient () {
    var selectedSize = localStorage.getItem('selectedUserSize');
    var sortVal = localStorage.getItem('sortedClient');
    var order = localStorage.getItem('orderClient');
    // e.preventDefault();
    var searchVal = 'null';
    // var url = '/Swipe-Admin/users';
    if(selectedSize == null){
      selectedSize = '3';
    }
    $.ajax({
      url: url + '?searchClient=' + searchVal,
      type: 'GET',
      data: {
        sizeUserPage: selectedSize,
        sortedClient: sortVal,
        orderClient: order
        // search: searchVal
      },
      success: function (data) {
        var tableHtml = $(data).find('#tableClient').html();
        $('#tableClient').html(tableHtml);

        var pagination = $(data).find('#userPagination').html();
        $('#userPagination').html(pagination);
        var search = $(data).find('#clientSearch').html();
        $('#clientSearch').html(search);
        var next = $(data).find('#nextClient').html();
        $('#nextClient').html(next);
        var previous = $(data).find('#previousClient').html();
        $('#previousClient').html(previous);
        var textClient = $(data).find('#textClient').html();
        $('#textClient').html(textClient);
        // $('#blackListTable').html(data);
        localStorage.setItem('searchClient', searchVal);


      },
      error: function (xhr, status, error) {
        alert("-")
        console.log(error);
      }
    });
  }
  $(document).ready(function() {
    var selectedSize = localStorage.getItem('selectedUserSize');
    var page = localStorage.getItem('pageUser');


    if (selectedSize) {
      $('#sizeUserPage').val(selectedSize);
    }
    $('#previousClient').on('click','li',function(e) {
      var sortVal = localStorage.getItem('sortedClient');
      var searchBlack = localStorage.getItem('searchClient');
      var order = localStorage.getItem('orderClient');

      e.preventDefault();

      var pageNumber = $('#pageNumberClientPr').val();
      var intPageNumber = parseInt(pageNumber);

      // var url = '/Swipe-Admin/users';

      // pageNumber -= 1;
      $.ajax({
        url:url+'?page='+pageNumber,
        type: 'GET',
        data:{
          sizeUserPage: selectedSize,
          searchClient: searchBlack,
          sortedClient: sortVal,
          orderClient: order
        },
        success: function(data) {
          var tableHtml = $(data).find('#userTable').html();
          $('#userTable').html(tableHtml);
          // var pagination = $(data).find('#paginationList').html();
          // $('#paginationList').html(pagination);
          var next = $(data).find('#nextClient').html();
          $('#nextClient').html(next);
          var previous = $(data).find('#previousClient').html();
          $('#previousClient').html(previous);
          var textClient = $(data).find('#textClient').html();
          $('#textClient').html(textClient);

          var pagination = $(data).find('#userPagination').html();
          $('#userPagination').html(pagination);

          $('#userPagination li').removeClass('active');
          $('#userPagination li').filter(function() {
            return $(this).text() === (intPageNumber+1).toString();
          }).addClass('active');
          localStorage.setItem('pageUser', pageNumber);


        },
        error: function(xhr, status, error) {
          console.log(error);
        }
      });
    });

    $('#nextClient').on('click','li',function(e) {
      var sortVal = localStorage.getItem('sortedClient');
      var searchBlack = localStorage.getItem('searchClient');
      var order = localStorage.getItem('orderClient');
      e.preventDefault();
      var pageNumber = $('#pageNumberClientNext').val();
      var intPageNumber = parseInt(pageNumber);
      // var url = '/Swipe-Admin/users';


      $.ajax({
        url:url+'?page='+pageNumber,
        type: 'GET',
        data:{
          sizeUserPage: selectedSize,
          searchClient: searchBlack,
          sortedClient: sortVal,
          orderClient: order
        },
        success: function(data) {
          var tableHtml = $(data).find('#userTable').html();
          $('#userTable').html(tableHtml);
          // var pagination = $(data).find('#paginationList').html();
          // $('#paginationList').html(pagination);
          var next = $(data).find('#nextClient').html();
          $('#nextClient').html(next);
          var previous = $(data).find('#previousClient').html();
          $('#previousClient').html(previous);
          var textClient = $(data).find('#textClient').html();
          $('#textClient').html(textClient);

          var pagination = $(data).find('#userPagination').html();
          $('#userPagination').html(pagination);

          $('#userPagination li').removeClass('active');
          $('#userPagination li').filter(function() {
            return $(this).text() === (intPageNumber+1).toString();
          }).addClass('active');
          localStorage.setItem('pageUser', pageNumber);


        },
        error: function(xhr, status, error) {
          console.log(error);
        }
      });
    });

    $('#sizeUserPage').on('change', function() {
      var sortVal = localStorage.getItem('sortedClient');
      var search = localStorage.getItem('searchClient');
      var order = localStorage.getItem('orderClient');

      selectedSize = $(this).val();
      // var url = '/Swipe-Admin/users';

      if (page == null) {
        page = '0';
      }

      $.ajax({
        url: url + '?sizeUserPage=' + selectedSize,
        type: 'GET',
        data: {
          sizeUserPage: selectedSize,
          page: page,
          searchClient:search,
          sortedClient: sortVal,
          orderClient: order
        },
        contentType: "application/json"
      })
              .done(function(data) {
                var size = $(data).find('#userTable').html();
                $('#userTable').html(size);
                var pagination = $(data).find('#userPagination').html();
                $('#userPagination').html(pagination);
                var next = $(data).find('#nextClient').html();
                $('#nextClient').html(next);
                var previous = $(data).find('#previousClient').html();
                $('#previousClient').html(previous);
                var textClient = $(data).find('#textClient').html();
                $('#textClient').html(textClient);

                localStorage.setItem('selectedUserSize', selectedSize);
              })
              .fail(function() {
                alert('Произошла ошибка при загрузке данных.');
              });
    });

    $('#userPagination').on('click', 'li', function(e) {
      var sortVal = localStorage.getItem('sortedClient');
      var search = localStorage.getItem('searchClient');
      var order = localStorage.getItem('orderClient');
      e.preventDefault();
      var pageNumber = $(this).text();
      $('#userPagination li').removeClass('active');
      $(this).addClass('active');
      // var url = '/Swipe-Admin/users';

      if (selectedSize == null) {
        selectedSize = '3';
      }

      pageNumber -= 1;
      $.ajax({
        url: url + '?page=' + pageNumber,
        type: 'GET',
        data: {
          sizeUserPage: selectedSize,
          page: pageNumber,
          searchClient:search,
          sortedClient: sortVal,
          orderClient: order
        }
      })
      .done(function(data) {
        var tableHtml = $(data).find('#userTable').html();
        $('#userTable').html(tableHtml);
        var next = $(data).find('#nextClient').html();
        $('#nextClient').html(next);
        var previous = $(data).find('#previousClient').html();
        $('#previousClient').html(previous);
        var textClient = $(data).find('#textClient').html();
        $('#textClient').html(textClient);

        var pagination = $(data).find('#userPagination').html();
        $('#userPagination').html(pagination);

        $('#userPagination li').removeClass('active');
        $('#userPagination li').filter(function() {
          return $(this).text() === (pageNumber+1).toString();
        }).addClass('active');
        localStorage.setItem('pageUser', pageNumber);
      })
        .fail( function(xhr, status, error) {
          console.log(error);
        })
      });
    $(window).on('beforeunload', function() {
      localStorage.removeItem('selectedUserSize');
      localStorage.removeItem('pageUser');
      localStorage.removeItem('sortedClient');
      localStorage.removeItem('orderClient');
    });

  });






  function searchContractor () {
    var selectedSize = localStorage.getItem('selectedContractorSize');
    // e.preventDefault();
    var searchVal = document.getElementById('searchInputContractor').value;
    // var url = '/Swipe-Admin/users';
    // if(selectedSize == null){
    //   selectedSize = '3';
    // }
    $.ajax({
      url: url + '?searchContractor=' + searchVal,
      type: 'GET',
      data: {
        sizeContractorPage: selectedSize,
        // search: searchVal
      },
      success: function (data) {
        var tableHtml = $(data).find('#tableContractor').html();
        $('#tableContractor').html(tableHtml);

        var pagination = $(data).find('#contractorPagination').html();
        $('#contractorPagination').html(pagination);
        var next = $(data).find('#nextContractor').html();
        $('#nextContractor').html(next);
        var previous = $(data).find('#previousContractor').html();
        $('#previousContractor').html(previous);

        var textContractor = $(data).find('#textContractor').html();
        $('#textContractor').html(textContractor);
        // $('#blackListTable').html(data);
        localStorage.setItem('searchContractor', searchVal);


      },
      error: function (xhr, status, error) {
        alert("-")
        console.log(error);
      }
    });
  }
  var clickContractor = 1;
  function sortedContractor (field) {
    if (field === localStorage.getItem("sortedContractor")){
      clickContractor++;
      if (clickContractor>2){
        clickContractor = 1;
      }
    }
    else if (localStorage.getItem("sortedContractor") === null && field === 'idUser' && clickContractor===1){
      clickContractor = 2;
    }
    else {
      if (clickContractor===2){
        clickContractor = 1;
      }
    }
    var selectedSize = localStorage.getItem('selectedContractorSize');
    var searchVal = localStorage.getItem('searchContractor');
    // var url = '/Swipe-Admin/users';
    // if(selectedSize == null){
    //   selectedSize = '3';
    // }
    $.ajax({
      url: url + '?sortedContractor=' + field,
      type: 'GET',
      data: {
        sizeContractorPage: selectedSize,
        searchContractor: searchVal,
        orderContractor: clickContractor
        // search: searchVal
      },
      success: function (data) {
        var tableHtml = $(data).find('#tableContractor').html();
        $('#tableContractor').html(tableHtml);

        var pagination = $(data).find('#contractorPagination').html();
        $('#contractorPagination').html(pagination);
        var next = $(data).find('#nextContractor').html();
        $('#nextContractor').html(next);
        var previous = $(data).find('#previousContractor').html();
        $('#previousContractor').html(previous);

        var textContractor = $(data).find('#textContractor').html();
        $('#textContractor').html(textContractor);
        // $('#blackListTable').html(data);
        localStorage.setItem('sortedContractor', field);
        localStorage.setItem('orderContractor', clickContractor);


      },
      error: function (xhr, status, error) {
        alert("-")
        console.log(error);
      }
    });
  }
  function closeContractor () {
    var selectedSize = localStorage.getItem('selectedContractorSize');
    var sortedVal = localStorage.getItem('sortedContractor');
    var order = localStorage.getItem('orderContractor');
    // e.preventDefault();
    var searchVal = 'null';
    // var url = '/Swipe-Admin/users';
    if(selectedSize == null){
      selectedSize = '3';
    }
    $.ajax({
      url: url + '?searchContractor=' + searchVal,
      type: 'GET',
      data: {
        sizeContractorPage: selectedSize,
        sortedContractor: sortedVal,
        orderContractor: order
        // search: searchVal
      },
      success: function (data) {
        var tableHtml = $(data).find('#tableContractor').html();
        $('#tableContractor').html(tableHtml);

        var pagination = $(data).find('#contractorPagination').html();
        $('#contractorPagination').html(pagination);
        var search = $(data).find('#contractorSearch').html();
        $('#contractorSearch').html(search);
        var next = $(data).find('#nextContractor').html();
        $('#nextContractor').html(next);
        var previous = $(data).find('#previousContractor').html();
        $('#previousContractor').html(previous);
        var textContractor = $(data).find('#textContractor').html();
        $('#textContractor').html(textContractor);
        // $('#blackListTable').html(data);
        localStorage.setItem('searchContractor', searchVal);


      },
      error: function (xhr, status, error) {
        alert("-")
        console.log(error);
      }
    });
  }
  $(document).ready(function() {
    var selectedSize = localStorage.getItem('selectedContractorSize');
    // var selectedSize = localStorage.getItem('selectedContractorSize');
    var page = localStorage.getItem('pageContractor');

    // if (selectedSize) {
    //   $('#sizeContractorPage').val(selectedSize);
    // }
    $('#previousContractor').on('click','li',function(e) {
      var sortedVal = localStorage.getItem('sortedContractor');
      var searchBlack = localStorage.getItem('searchContractor');
      var order = localStorage.getItem('orderContractor');
      e.preventDefault();

      var pageNumber = $('#pageNumberContractorPr').val();

      // var url = '/Swipe-Admin/users';

      // pageNumber -= 1;
      $.ajax({
        url:url+'?pageContractor='+pageNumber,
        type: 'GET',
        data:{
          sizeContractorPage: selectedSize,
          searchContractor: searchBlack,
          sortedContractor: sortedVal,
          orderContractor: order
        },
        success: function(data) {
          var tableHtml = $(data).find('#contractorTable').html();
          $('#contractorTable').html(tableHtml);
          // var pagination = $(data).find('#paginationList').html();
          // $('#paginationList').html(pagination);
          var next = $(data).find('#nextContractor').html();
          $('#nextContractor').html(next);
          var previous = $(data).find('#previousContractor').html();
          $('#previousContractor').html(previous);
          var textContractor = $(data).find('#textContractor').html();
          $('#textContractor').html(textContractor);

          $('#contractorPagination li').removeClass('active');
          $('#contractorPagination li').eq(pageNumber).addClass('active');
          localStorage.setItem('pageContractor', pageNumber);


        },
        error: function(xhr, status, error) {
          console.log(error);
        }
      });
    });

    $('#nextContractor').on('click','li',function(e) {
      var sortedVal = localStorage.getItem('sortedContractor');
      var order = localStorage.getItem('orderContractor');
      var searchBlack = localStorage.getItem('searchContractor');
      e.preventDefault();
      var pageNumber = $('#pageNumberContractorNext').val();
      // var url = '/Swipe-Admin/users';


      $.ajax({
        url:url+'?pageContractor='+pageNumber,
        type: 'GET',
        data:{
          sizeContractorPage: selectedSize,
          searchContractor: searchBlack,
          sortedContractor: sortedVal,
          orderContractor: order
        },
        success: function(data) {
          var tableHtml = $(data).find('#contractorTable').html();
          $('#contractorTable').html(tableHtml);
          // var pagination = $(data).find('#paginationList').html();
          // $('#paginationList').html(pagination);
          var next = $(data).find('#nextContractor').html();
          $('#nextContractor').html(next);
          var previous = $(data).find('#previousContractor').html();
          $('#previousContractor').html(previous);
          var textContractor = $(data).find('#textContractor').html();
          $('#textContractor').html(textContractor);

          $('#contractorPagination li').removeClass('active');
          $('#contractorPagination li').eq(pageNumber).addClass('active');
          localStorage.setItem('pageContractor', pageNumber);


        },
        error: function(xhr, status, error) {
          console.log(error);
        }
      });
    });
    $('#sizeContractorPage').on('change', function() {
      var sortedVal = localStorage.getItem('sortedContractor');
      var order = localStorage.getItem('orderContractor');
      var search = localStorage.getItem('searchContractor');
      selectedSize = $(this).val();
      // var url = '/Swipe-Admin/users';

      if (page == null) {
        page = '0';
      }

      $.ajax({
        url: url + '?sizeContractorPage=' + selectedSize,
        type: 'GET',
        data: {
          sizeContractorPage: selectedSize,
          pageContractor: page,
          searchContractor:search,
          sortedContractor: sortedVal,
          orderContractor: order
        },
        contentType: "application/json"
      })
              .done(function(data) {
                var size = $(data).find('#contractorTable').html();
                $('#contractorTable').html(size);
                var pagination = $(data).find('#contractorPagination').html();
                $('#contractorPagination').html(pagination);
                var next = $(data).find('#nextContractor').html();
                $('#nextContractor').html(next);
                var previous = $(data).find('#previousContractor').html();
                $('#previousContractor').html(previous);
                var textContractor = $(data).find('#textContractor').html();
                $('#textContractor').html(textContractor);
                localStorage.setItem('selectedContractorSize', selectedSize);
              })
              .fail(function() {
                alert('Произошла ошибка при загрузке данных.');
              });
    });

    $('#contractorPagination').on('click', 'li', function(e) {
      var selectedSize = localStorage.getItem('selectedContractorSize');
      var sortedVal = localStorage.getItem('sortedContractor');
      var order = localStorage.getItem('orderContractor');
      var search = localStorage.getItem('searchContractor');
      e.preventDefault();
      var pageNumber = $(this).text();
      $('#contractorPagination li').removeClass('active');
      $(this).addClass('active');
      // var url = '/Swipe-Admin/users';

      if (selectedSize == null) {
        selectedSize = '3';
      }

      pageNumber -= 1;
      $.ajax({
        url: url + '?pageContractor=' + pageNumber,
        type: 'GET',
        data: {
          sizeContractorPage: selectedSize,
          pageContractor: pageNumber,
          searchContractor:search,
          sortedContractor: sortedVal,
          orderContractor: order
        }
      })
              .done(function(data) {
                var tableHtml = $(data).find('#contractorTable').html();
                $('#contractorTable').html(tableHtml);
                var next = $(data).find('#nextContractor').html();
                $('#nextContractor').html(next);
                var previous = $(data).find('#previousContractor').html();
                $('#previousContractor').html(previous);
                var textContractor = $(data).find('#textContractor').html();
                $('#textContractor').html(textContractor);
                localStorage.setItem('pageContractor', pageNumber);
              })
              .fail( function(xhr, status, error) {
                console.log(error);
              })
    });
    $(window).on('beforeunload', function() {
      localStorage.removeItem('selectedContractorSize');
      localStorage.removeItem('pageContractor');
      localStorage.removeItem('sortedContractor');
      localStorage.removeItem('orderContractor');
    });

  });









  function searchNotary () {
    var selectedSize = localStorage.getItem('selectedNotarySize');
    // e.preventDefault();
    var searchVal = document.getElementById('searchInputNotary').value;
    // var url = '/Swipe-Admin/users';
    // if(selectedSize == null){
    //   selectedSize = '3';
    // }
    $.ajax({
      url: url + '?searchNotary=' + searchVal,
      type: 'GET',
      data: {
        // search: searchVal
      },
      success: function (data) {
        var tableHtml = $(data).find('#tableNotary').html();
        $('#tableNotary').html(tableHtml);

        var pagination = $(data).find('#notaryPagination').html();
        $('#notaryPagination').html(pagination);
        var next = $(data).find('#nextNotary').html();
        $('#nextNotary').html(next);
        var previous = $(data).find('#previousNotary').html();
        $('#previousNotary').html(previous);
        var textNotary = $(data).find('#textNotary').html();
        $('#textNotary').html(textNotary);
        // $('#blackListTable').html(data);
        localStorage.setItem('searchNotary', searchVal);


      },
      error: function (xhr, status, error) {
        alert("-")
        console.log(error);
      }
    });
  }
  var clickNotary = 1;
  function sortedNotary (field) {

    if (field === localStorage.getItem("sortedNotary")){
      clickNotary++;
      if (clickNotary>2){
        clickNotary = 1;
      }
    }
    else if (localStorage.getItem("sortedNotary") === null && field === 'idUser' && clickNotary===1){
      clickNotary = 2;
    }
    else {
      if (clickNotary===2){
        clickNotary = 1;
      }
    }
    var selectedSize = localStorage.getItem('selectedNotarySize');
    var searchVal = localStorage.getItem('searchNotary');
    // var url = '/Swipe-Admin/users';
    // if(selectedSize == null){
    //   selectedSize = '3';
    // }
    $.ajax({
      url: url + '?sortedNotary=' + field,
      type: 'GET',
      data: {
        searchNotary: searchVal,
        orderNotary: clickNotary
        // search: searchVal
      },
      success: function (data) {
        var tableHtml = $(data).find('#tableNotary').html();
        $('#tableNotary').html(tableHtml);

        var pagination = $(data).find('#notaryPagination').html();
        $('#notaryPagination').html(pagination);
        var next = $(data).find('#nextNotary').html();
        $('#nextNotary').html(next);
        var previous = $(data).find('#previousNotary').html();
        $('#previousNotary').html(previous);
        var textNotary = $(data).find('#textNotary').html();
        $('#textNotary').html(textNotary);
        // $('#blackListTable').html(data);
        localStorage.setItem('sortedNotary', field);
        localStorage.setItem('orderNotary', clickNotary);


      },
      error: function (xhr, status, error) {
        alert("-")
        console.log(error);
      }
    });
  }
  function closeNotary () {
    var selectedSize = localStorage.getItem('selectedNotarySize');
    var sortedVal = localStorage.getItem('sortedNotary');
    var order = localStorage.getItem('orderNotary');
    // e.preventDefault();
    var searchVal = 'null';
    // var url = '/Swipe-Admin/users';
    if(selectedSize == null){
      selectedSize = '3';
    }
    $.ajax({
      url: url + '?searchNotary=' + searchVal,
      type: 'GET',
      data: {
        sortedNotary:sortedVal,
        orderNotary: order
        // search: searchVal
      },
      success: function (data) {
        var tableHtml = $(data).find('#tableNotary').html();
        $('#tableNotary').html(tableHtml);

        var pagination = $(data).find('#notaryPagination').html();
        $('#notaryPagination').html(pagination);
        var search = $(data).find('#notarySearch').html();
        $('#notarySearch').html(search);
        var next = $(data).find('#nextNotary').html();
        $('#nextNotary').html(next);
        var previous = $(data).find('#previousNotary').html();
        $('#previousNotary').html(previous);
        var textNotary = $(data).find('#textNotary').html();
        $('#textNotary').html(textNotary);
        // $('#blackListTable').html(data);
        localStorage.setItem('searchNotary', searchVal);


      },
      error: function (xhr, status, error) {
        alert("-")
        console.log(error);
      }
    });
  }
  $(document).ready(function() {
    var selectedSize = localStorage.getItem('selectedNotarySize');
    var page = localStorage.getItem('pageNotary');

    if (selectedSize) {
      $('#sizeNotaryPage').val(selectedSize);
    }
    $('#previousNotary').on('click','li',function(e) {
      var sortedVal = localStorage.getItem('sortedNotary');
      var order = localStorage.getItem('orderNotary');
      var searchBlack = localStorage.getItem('searchNotary');
      e.preventDefault();

      var pageNumber = $('#pageNumberNotaryPr').val();
      var intPageNumber = parseInt(pageNumber);

      // var url = '/Swipe-Admin/users';

      // pageNumber -= 1;
      $.ajax({
        url:url+'?pageNotary='+pageNumber,
        type: 'GET',
        data:{
          searchNotary: searchBlack,
          sortedNotary:sortedVal,
          orderNotary: order
        },
        success: function(data) {
          var tableHtml = $(data).find('#notaryTable').html();
          $('#notaryTable').html(tableHtml);
          // var pagination = $(data).find('#paginationList').html();
          // $('#paginationList').html(pagination);
          var next = $(data).find('#nextNotary').html();
          $('#nextNotary').html(next);
          var previous = $(data).find('#previousNotary').html();
          $('#previousNotary').html(previous);
          var textNotary = $(data).find('#textNotary').html();
          $('#textNotary').html(textNotary);

          var pagination = $(data).find('#notaryPagination').html();
          $('#notaryPagination').html(pagination);

          $('#notaryPagination li').removeClass('active');
          $('#notaryPagination li').filter(function() {
            return $(this).text() === (intPageNumber+1).toString();
          }).addClass('active');
          localStorage.setItem('pageNotary', pageNumber);


        },
        error: function(xhr, status, error) {
          console.log(error);
        }
      });
    });

    $('#nextNotary').on('click','li',function(e) {
      var sortedVal = localStorage.getItem('sortedNotary');
      var order = localStorage.getItem('orderNotary');
      var searchBlack = localStorage.getItem('searchNotary');
      e.preventDefault();
      var pageNumber = $('#pageNumberNotaryNext').val();
      var intPageNumber = parseInt(pageNumber);
      // var url = '/Swipe-Admin/users';


      $.ajax({
        url:url+'?pageNotary='+pageNumber,
        type: 'GET',
        data:{
          searchNotary: searchBlack,
          sortedNotary: sortedVal,
          orderNotary: order
        },
        success: function(data) {
          var tableHtml = $(data).find('#notaryTable').html();
          $('#notaryTable').html(tableHtml);
          // var pagination = $(data).find('#paginationList').html();
          // $('#paginationList').html(pagination);
          var next = $(data).find('#nextNotary').html();
          $('#nextNotary').html(next);
          var previous = $(data).find('#previousNotary').html();
          $('#previousNotary').html(previous);
          var textNotary = $(data).find('#textNotary').html();
          $('#textNotary').html(textNotary);

          var pagination = $(data).find('#notaryPagination').html();
          $('#notaryPagination').html(pagination);

          $('#notaryPagination li').removeClass('active');
          $('#notaryPagination li').filter(function() {
            return $(this).text() === (intPageNumber+1).toString();
          }).addClass('active');
          localStorage.setItem('pageNotary', pageNumber);


        },
        error: function(xhr, status, error) {
          console.log(error);
        }
      });
    });
    $('#sizeNotaryPage').on('change', function() {
      var sortedVal = localStorage.getItem('sortedNotary');
      var order = localStorage.getItem('orderNotary');
      var search = localStorage.getItem('searchNotary');
      selectedSize = $(this).val();
      // var url = '/Swipe-Admin/users';

      if (page == null) {
        page = '0';
      }

      $.ajax({
        url: url + '?sizeNotaryPage=' + selectedSize,
        type: 'GET',
        data: {
          pageNotary: page,
          searchNotary:search,
          sortedNotary: sortedVal,
          orderNotary: order
        },
        contentType: "application/json"
      })
              .done(function(data) {
                var size = $(data).find('#notaryTable').html();
                $('#notaryTable').html(size);
                var pagination = $(data).find('#notaryPagination').html();
                $('#notaryPagination').html(pagination);
                var next = $(data).find('#nextNotary').html();
                $('#nextNotary').html(next);
                var previous = $(data).find('#previousNotary').html();
                $('#previousNotary').html(previous);
                var textNotary = $(data).find('#textNotary').html();
                $('#textNotary').html(textNotary);
                localStorage.setItem('selectedNotarySize', selectedSize);
              })
              .fail(function() {
                alert('Произошла ошибка при загрузке данных.');
              });
    });

    $('#notaryPagination').on('click', 'li', function(e) {
      var sortedVal = localStorage.getItem('sortedNotary');
      var order = localStorage.getItem('orderNotary');
      var search = localStorage.getItem('searchNotary');
      e.preventDefault();
      var pageNumber = $(this).text();
      $('#notaryPagination li').removeClass('active');
      $(this).addClass('active');
      // var url = '/Swipe-Admin/users';

      if (selectedSize == null) {
        selectedSize = '3';
      }

      pageNumber -= 1;
      $.ajax({
        url: url + '?pageNotary=' + pageNumber,
        type: 'GET',
        data: {
          pageNotary: pageNumber,
          searchNotary:search,
          sortedNotary: sortedVal,
          orderNotary: order
        }
      })
              .done(function(data) {
                var tableHtml = $(data).find('#notaryTable').html();
                $('#notaryTable').html(tableHtml);
                var next = $(data).find('#nextNotary').html();
                $('#nextNotary').html(next);
                var previous = $(data).find('#previousNotary').html();
                $('#previousNotary').html(previous);
                var textNotary = $(data).find('#textNotary').html();
                $('#textNotary').html(textNotary);


                var pagination = $(data).find('#notaryPagination').html();
                $('#notaryPagination').html(pagination);

                $('#notaryPagination li').removeClass('active');
                $('#notaryPagination li').filter(function() {
                  return $(this).text() === (pageNumber+1).toString();
                }).addClass('active');

                localStorage.setItem('pageNotary', pageNumber);
              })
              .fail( function(xhr, status, error) {
                console.log(error);
              })
    });
    $(window).on('beforeunload', function() {
      localStorage.removeItem('selectedNotarySize');
      localStorage.removeItem('pageNotary');
      localStorage.removeItem('sortedNotary');
      localStorage.removeItem('orderNotary');
    });

  });
  $(window).on('beforeunload', function() {
    localStorage.removeItem('searchClient');
    localStorage.removeItem('searchContractor');
    localStorage.removeItem('searchNotary');
  });
</script>
</body>

</html>