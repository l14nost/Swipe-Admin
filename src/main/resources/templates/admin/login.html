<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>

<body>

<div th:if="${param.error}" class="alert alert-danger" style="width: 50%; margin: 0 auto; text-align: center">
  <div>
  Invalid username or password.
  </div>
</div>
<div th:if="${param.logout}" class="alert alert-info" style="width: 50%; margin: 0 auto; text-align: center">
  You have been logged out.
</div>
<!--<div style="display: flex; justify-content: center; margin-top: 200px">-->
<!--  <img src="../admin/dist/img/loginLogo.png" width="250px">-->
<!--</div>-->

<!--<div class="container" style="display: flex; align-items: center; justify-content: center">-->
<main class="container d-flex justify-content-center " style="margin-top: 250px;width: 650px">

  <form th:action="@{/login}" method="post">
    <div>
      <img th:src="@{/admin/dist/img/loginLogo.png}" width="250px">
    </div>
    <div class="form-floating">
      <input type="text" class="form-control" name="username" id="username" placeholder="name@example.com">
      <label for="username">Login</label>
    </div>
    <div class="form-floating" style="margin-top: 5px">
      <input type="password" class="form-control" name="password" id="password" placeholder="Password">
      <label for="password">Password</label>
    </div>

<!--    <div class="checkbox mb-3" style="margin-top: 5px">-->
<!--      <label>-->
<!--        <input type="checkbox" value="remember-me"> Remember me-->
<!--      </label>-->
<!--    </div>-->
    <button class="w-100 btn btn-lg btn-success" type="submit" value="Sign in" style="margin-top: 5px">Sign in</button>
    <p class="mt-5 mb-3 text-body-secondary" style="text-align: center">© 2017–2023</p>
  </form>
</main>
<!--</div>-->

<!--<script>-->
<!--  // document.getElementById("loginForm").addEventListener("submit", function(event) {-->
<!--  //   event.preventDefault();-->
<!--  //-->
<!--  //   var form = event.target;-->
<!--  //   var username = form.elements.login.value;-->
<!--  //   var password = form.elements.password.value;-->
<!--  //-->
<!--  //   var xhr = new XMLHttpRequest();-->
<!--  //   xhr.open("POST", "/admin/authenticate", true);-->
<!--  //   xhr.setRequestHeader("Content-type", "application/json");-->
<!--  //   xhr.onreadystatechange = function() {-->
<!--  //     if (xhr.readyState === 4 && xhr.status === 200) {-->
<!--  //       var response = JSON.parse(xhr.responseText);-->
<!--  //       var token = response.token;-->
<!--  //-->
<!--  //       // Сохраните токен в localStorage или в куки-->
<!--  //       localStorage.setItem("token", token);-->
<!--  //-->
<!--  //       // Перенаправьте пользователя на защищенную страницу-->
<!--  //       window.location.href = "/users";-->
<!--  //     } else if (xhr.readyState === 4 && xhr.status === 401) {-->
<!--  //       alert("Неверное имя пользователя или пароль");-->
<!--  //     }-->
<!--  //   };-->
<!--  //-->
<!--  //   xhr.send(JSON.stringify({ "username": username, "password": password }));-->
<!--  // });-->
<!--  $.ajax({-->
<!--    url: '/admin/authenticate',-->
<!--    method: 'POST', // Используем метод POST-->
<!--    headers: {-->
<!--      'Authorization': 'Bearer ' + token // Передача токена в заголовке Authorization-->
<!--    },-->
<!--    data: { /* данные для запроса */ },-->
<!--    success: function(response) {-->
<!--      // Обработка успешного ответа-->
<!--    },-->
<!--    error: function(xhr, status, error) {-->
<!--      // Обработка ошибки-->
<!--    }-->
<!--  });-->
<!--</script>-->

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
</body>
</html>

<!--<!DOCTYPE html>-->
<!--<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">-->
<!--<head>-->
<!--  <title>Spring Security Example </title>-->
<!--</head>-->
<!--<body>-->
<!--<div th:if="${param.error}">-->
<!--  Invalid username and password.-->
<!--</div>-->
<!--<div th:if="${param.logout}">-->
<!--  You have been logged out.-->
<!--</div>-->
<!--<form th:action="@{/login}" method="post">-->
<!--  <div><label> User Name : <input type="text" name="username"/> </label></div>-->
<!--  <div><label> Password: <input type="password" name="password"/> </label></div>-->
<!--  <div><input type="submit" value="Sign In"/></div>-->
<!--</form>-->
<!--</body>-->
<!--</html>-->